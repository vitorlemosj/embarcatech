#include <stdio.h>
#include <string.h>

// Função de conversão para armazenamento
void converterArmazenamento() {
    double value;
    char fromUnit[10], toUnit[10];

    printf("Conversor de grandezas de armazenamento\n");
    printf("Unidades disponíveis: Bits, Bytes, KB, MB, GB, TB\n");

    // Entrada do valor e unidades
    printf("Digite o valor a ser convertido: ");
    scanf("%lf", &value);
    printf("Digite a unidade de origem: ");
    scanf("%s", fromUnit);
    printf("Digite a unidade de destino: ");
    scanf("%s", toUnit);

    // Mapeamento dos valores base (em Bytes)
    double conversionFactor[] = {1.0 / 8, 1, 1024, 1024 * 1024, 1024 * 1024 * 1024, 1024.0 * 1024 * 1024 * 1024};
    char *units[] = {"Bits", "Bytes", "KB", "MB", "GB", "TB"};

    // Identificar os índices das unidades de origem e destino
    int fromIndex = -1, toIndex = -1;
    for (int i = 0; i < 6; i++) {
        if (strcasecmp(fromUnit, units[i]) == 0) {
            fromIndex = i;
        }
        if (strcasecmp(toUnit, units[i]) == 0) {
            toIndex = i;
        }
    }

    // Validar as entradas
    if (fromIndex == -1 || toIndex == -1) {
        printf("Unidade inválida! Tente novamente.\n");
        return;
    }

    // Conversão
    double bytes = value * conversionFactor[fromIndex]; // Converter tudo para Bytes
    double result = bytes / conversionFactor[toIndex];  // Converter para a unidade desejada

    // Exibir o resultado
    printf("%.2lf %s = %.2lf %s\n", value, fromUnit, result, toUnit);
}
